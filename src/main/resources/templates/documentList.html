<!DOCTYPE html>
<html lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <title>Title doc list</title>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

    <!-- CSS and Bootstrap -->
    <link rel="icon" href="../static/assets/img/favicon.ico" th:href="@{/static/assets/img/favicon.ico}"/>
    <link rel="stylesheet" href="../static/assets/css/bootstrap.min.css"
          th:href="@{/static/assets/bootstrap/bootstrap.css}"/>
    <link rel="stylesheet" href="../static/assets/css/style.css" th:href="@{/static/assets/css/style.css}"/>
</head>

<body>

<header>
    <div class="d-flex flex-column flex-md-row align-items-center p-3 px-md-4 mb-3 bg-white border-bottom box-shadow">
        <h5 class="my-0 mr-md-auto font-weight-normal">Company name</h5>
        <nav class="my-2 my-md-0 mr-md-3">
            <a class="p-2 text-dark" href="../templates/adminPage.html" th:href="@{/admin}">Admin Page</a>
            <a class="p-2 text-dark" href="../templates/documentList.html" th:href="@{/doc/all}">Document List</a>
            <a class="p-2 text-dark" href="../templates/profile.html" th:href="@{/user}">Profile</a>
        </nav>
        <div th:if="authenticated">
            <a class="btn btn-outline-primary" href="#" th:href="@{/logout}">Log Out</a>
        </div>
        <div th:if="!authenticated">
            <a class="btn btn-outline-primary" href="#" th:href="@{/login}">Log In</a>
        </div>
    </div>
</header>


<div>
    <div>
        <table class="documentList" border="2">
            <thead align="center">
            <tr>
                <!--    todo change text to icons    -->
                <!--        todo contant width to proportions-->
                <th width="100">file type</th>
                <th width="300">File name</th>
                <th width="100">Upload Date</th>
                <th width="100">Upload Time</th>
                <th width="100">size</th>
                <th width="200">Author</th>
                <th width="80">Open</th>
                <th width="80">Download</th>
                <th width="80">Delete</th>
                <!--    Просмотры:25501-->
                <!--    Скачана:2307 раз-->
            </tr>
            </thead>
            <tbody align="center" th:each="document : ${documentList}">
            <tr th:object="${document}">
                <!--     todo   picture depends on mediaType -->
                <td th:text="*{mediaType}">file type</td>
                <td th:text="*{name}">695462.pdf</td>
                <td th:text="*{createdAt.toLocalDate()}">Upload Date</td>
                <!--     todo    format time to delete nanos -->
                <td th:text="*{createdAt.toLocalTime()}">Upload Time</td>
                <td th:text="*{size}">size</td>
                <td th:text="*{createdBy.getUsername()}">Jeb</td>
                <td><a href="../templates/document.html" th:href="@{/doc/{id}(id=*{docId})}">Open</a></td>
                <td><a href="#" th:href="@{/doc/download/{id}(id=*{docId})}" download>Download</a></td>
                <td><a href="../templates/documentList.html" th:href="@{/doc/delete/{id}(id=*{docId})}">Delete</a></td>
            </tr>
            </tbody>
        </table>
    </div>
    <div>
        <br>
        <form th:action="@{/doc/add}" action="#" method="post" enctype="multipart/form-data">
            <p>Upload file (max size 300mb)</p>
            <div class="form-group">
                <div class="custom-file">
                    <input type="file" name="file" id="customFile" placeholder="choose">
                    <label class="custom-file-label" for="customFile">Choose file</label>
                </div>
            </div>
            <div class="form-group">
                <button type="submit" class="btn btn-primary">Send</button>
            </div>
        </form>
    </div>


<!--    <div>-->
<!--        <br>-->
<!--        <form action="/doc/add" method="post" enctype="multipart/form-data">-->
<!--         <p>Upload file (max size 300mb)</p>-->
<!--                    <input type="file" name="file" id="customFile" placeholder="choose">-->
<!--                    <label class="custom-file-label" for="customFile">Choose file</label>-->


<!--                <button type="submit" class="btn btn-primary">Send</button>-->

<!--        </form>-->
<!--    </div>-->
</div>
</body>
</html>